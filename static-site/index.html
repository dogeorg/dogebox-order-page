<!doctype html>
<html>
  <head>
    <link href="styles/fonts.css" rel="stylesheet" type="text/css" />
    <link href="styles/primitives.css" rel="stylesheet" type="text/css" />
    <link href="styles/sections.css" rel="stylesheet" type="text/css" />
    <link href="styles/components.css" rel="stylesheet" type="text/css" />
    
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#0d0d0d">

    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="manifest" href="/site.webmanifest">

    <!-- image preloads -->
    <link rel="preload" href="img/3A.JPG" as="image">
    <link rel="preload" href="img/3B.JPG" as="image">
    <link rel="preload" href="img/4A.JPG" as="image">
    <link rel="preload" href="img/4B.JPG" as="image">
    <link rel="preload" href="img/4C.JPG" as="image">
  </head>
  <body>
    <section class="walled bg1">
      <main>
        <div class="wrap">
          <h1>Meet<br />Dogebox</h1>
          <h3 style="margin-bottom: 1.5em">
            Morem ipsum in quis incididunt voluptate est voluptate occaecat
            laborum esse veniam eiusmod ut ut tempor nostrud.
          </h3>
          <a class="button primary" href="#order">Such Pre-Order</a>
        </div>
      </main>
      <aside></aside>
    </section>

    <div class="divider"></div>

    <section class="walled bg2 reverse">
      <main>
        <div class="wrap">
          <h1>Run</h1>
          <h3 style="margin-bottom: 1.5em">
            Lorem ipsum in quis incididunt voluptate est voluptate occaecat
            laborum esse veniam eiusmod ut ut tempor nostrud.
          </h3>
          <div id="RunButtonGroup" class="button-group end">
            <a class="button small secondary selected" data-name="3B" data-target="#RunGraphic" onClick="selectGraphic(event)">Node L1</a>
            <a class="button small secondary" data-name="3C" data-target="#RunGraphic" onClick="selectGraphic(event)">Custom L2</a>
          </div>
        </div>
      </main>
      <aside id="RunGraphic"></aside>
    </section>

    <div class="divider"></div>

    <section class="walled bg3">
      <main>
        <div class="wrap">
          <h1>Join</h1>
          <h3 style="margin-bottom: 1.5em">
            Lorem ipsum in quis incididunt voluptate est voluptate occaecat
            laborum esse veniam eiusmod ut ut tempor nostrud.
          </h3>
          <div class="button-group start">
            <a class="button small yellow selected" data-name="4A" data-target="#JoinGraphic" onClick="selectGraphic(event)">Chat</a>
            <a class="button small yellow" data-name="4B" data-target="#JoinGraphic" onClick="selectGraphic(event)">Shop</a>
            <a class="button small yellow" data-name="4C" data-target="#JoinGraphic" onClick="selectGraphic(event)">Connect</a>
          </div>
        </div>
      </main>
      <aside id="JoinGraphic"></aside>
    </section>

    <div class="divider"></div>

    <section class="walled bg4 reverse">
      <main>
        <div class="wrap">
          <h1>Build</h1>
          <h3 style="margin-bottom: 1.5em">
            Lorem ipsum in quis incididunt voluptate est voluptate occaecat
            laborum esse veniam eiusmod ut ut tempor nostrud.
          </h3>
          <div class="button-group end">
            <a class="button small green selected" data-name="5" data-target="#BuildGraphic" onClick="selectGraphic(event)">Develop</a>
            <a class="button small green" data-name="5B" data-target="#BuildGraphic" onClick="selectGraphic(event)">Discover</a>
          </div>
        </div>
      </main>
      <aside></aside>
    </section>

    <div class="divider"></div>

    <section id="order" class="centered">
      <main>
        <div class="wrap">
          <h1 style="text-align: center">Get yours</h1>
          <h3 style="margin-bottom: 1.5em">
            Lorem ipsum in quis incididunt voluptate est voluptate occaecat
            laborum esse veniam eiusmod ut ut tempor nostrud.
          </h3>
          <div id="ProductRange">
            <product-card
              data-for="Product1" 
              theme="yellow"
              price="1,699"
              title="Standard edition"
              subtitle="Flibble wibble"
              image="/img/p1.png"
              desc="Occaecat magna id mollit occaecat duis reprehenderit incididunt esse eiusmod culpa.">
            </product-card>
            
            <product-card
              data-for="Product2"
              theme="blue"
              price="2,699"
              title="Founders edition"
              subtitle="Flibble wibble"
              image="/img/p2.png"
              desc="Occaecat magna id mollit occaecat duis reprehenderit incididunt esse eiusmod culpa."
              class="selected">
            </product-card>
            
            <product-card
              data-for="Product3" 
              theme="purple"
              price="6,969"
              title="Full B0RK!"
              subtitle="Flibble wibble"
              image="/img/p3.png"
              desc="Occaecat magna id mollit occaecat duis reprehenderit incididunt esse eiusmod culpa.">
            </product-card>

          </div>
          <div id="OptionPicker" class="picker">
            <div id="Product1" class="dot"></div>
            <div id="Product2" class="dot selected"></div>
            <div id="Product3" class="dot"></div>
          </div>
        </div>
      </main>
    </section>

    <site-footer></site-footer>

    <script>
      const picker = document.getElementById("OptionPicker");
      const range = document.getElementById("ProductRange");
      const dots = picker.querySelectorAll(".dot");

      for (dot of dots) {
        dot.addEventListener("click", handleDotClick);
      }

      function handleDotClick(e) {
        for (dot of dots) {
          dot.classList.remove("selected");
        }
        e.target.classList.add("selected");
        const selectedDot = e.target.id;

        range.querySelectorAll('product-card').forEach((card) => {
          card.classList.remove('selected');
        });

        const nextCard = range.querySelector(`[data-for="${selectedDot}"]`);
        nextCard.classList.add('selected');

        switch (selectedDot) {
          case "Product1":
            range.style.transform = "translateX(346px)";
            break;
          case "Product2":
            range.style.transform = "translateX(0px)";
            break;
          case "Product3":
            range.style.transform = "translateX(-346px)";
            break;
        }
      }
    </script>
    <script>
      function selectGraphic(event) {
        const graphic = event.target.getAttribute('data-name');
        const target = event.target.getAttribute('data-target');
        const targetEl = document.querySelector(target);
        const buttonGroup = event.target.parentNode

        buttonGroup.querySelectorAll('.button').forEach((b) => {
          b.classList.remove('selected');
        });

        event.target.classList.add('selected');
        targetEl.style.backgroundImage = `url("../img/${graphic}.JPG")`;
      }
    </script>
    <script>
      // (function () {
      //   var script = document.createElement("script");
      //   script.src = "https://cdn.jsdelivr.net/npm/eruda";
      //   document.body.append(script);
      //   script.onload = function () {
      //     eruda.init();
      //   };
      // })();
    </script>

    <script type="module" src="/components/product-card.js"></script>
    <script type="module" src="/components/site-footer.js"></script>
  </body>
</html>
